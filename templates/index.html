<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PrEPredict - SVM Risk Prediction</title>
    <style>
        /* (Your styling here) */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; margin: 2em; background-color: #f4f4f9; color: #333; }
        .container { max-width: 600px; margin: auto; padding: 2em; background: white; border: 1px solid #ddd; box-shadow: 0 2px 10px rgba(0,0,0,0.1); border-radius: 10px; }
        h1 { color: #D93444; }
        label { display: block; margin-top: 1.2em; font-weight: bold; }
        input, select { width: 100%; padding: 10px; margin-top: 5px; box-sizing: border-box; border: 1px solid #ccc; border-radius: 5px; }
        button { background-color: #D93444; color: white; padding: 12px 25px; border: none; border-radius: 5px; cursor: pointer; margin-top: 1.5em; font-size: 1.1em; }
    </style>
</head>
<body>
    <div class="container">
        <h1>PrEPredict Patient Visit Form (SVM)</h1>
        <h3>SVM</h3>
        <p>Enter the patient details. The system will aggregate this history to predict risk.</p>
        
        <form action="/predict" method="post">
            <!-- These names must match the columns in your raw data -->
            <label for="age_group">Age Group:</label>
            <input type="number" id="age_group" name="age_group" value="30" required>
            
            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
            </select>

            <label for="num_partners">Number of Partners this visit:</label>
            <input type="number" id="num_partners" name="num_partners" value="3" required>

            <label for="sexual_orientation">Sexual Orientation:</label>
            <select id="sexual_orientation" name="sexual_orientation">
                <option value="Heterosexual">Heterosexual</option>
                <option value="MSM">MSM</option>
                <option value="Bisexual">Bisexual</option>
                <option value="WSW">WSW</option>
            </select>
            
            <label for="hiv_screen">HIV Screening Result this visit:</label>
            <select id="hiv_screen" name="hiv_screen">
                <option value="Negative">Negative</option>
                <option value="Positive">Positive</option>
            </select>

            <!-- Add other original (non-aggregated) fields here if they are in your aggregation_rules -->
             <label for="diagnosed_sti">Diagnosed with STI this visit:</label>
             <select id="diagnosed_sti" name="diagnosed_sti">
                 <option value="None">None</option>
                 <option value="Chlamydia">Chlamydia</option>
             </select>
             <label for="transactional_sex">Transactional Sex:</label>
             <select id="transactional_sex" name="transactional_sex">
                 <option value="False">No</option>
                 <option value="True">Yes</option>
             </select>
              <label for="substance_use">Substance Use:</label>
              <select id="substance_use" name="substance_use">
                  <option value="False">No</option>
                  <option value="True">Yes</option>
              </select>
            
            <button type="submit">Predict Risk Category</button>
        </form>
    </div>
</body>
</html>